<div class="field">

<h1 style= text-decoration:underline;>Filtered Slot Bookings</h1>

  <br>

<%= form_with(url: slot_occupancy_path, local: false, method: :get) do |f| %>
    <label for="from_date">From Date:</label>
    <%= date_field_tag "from_date", nil, class: "datepicker" %>

    <label for="to_date">To Date:</label>
    <%= date_field_tag "to_date", nil, class: "datepicker" %>
  <%= f.submit "Search", class: "btn btn-sm btn-primary" %>
<% end %>

<br><br>

<% if @slot_bookings.present? %>
  <table class="table table-hover">
    <thead class="field">
    <tr>
      <th>Slot Number</th>
      <th>Vehicle Registration Number</th>
      <th>Phone Number</th>
      <th>Entry Time</th>
    </tr>
    </thead>

    <tbody class="field">
    <% @slot_bookings.each do |slot_booking| %>
      <tr>
        <td><%= slot_booking.slot.slot_number %></td>
        <td><%= slot_booking.vehicle_registration_number %></td>
        <td><%= slot_booking.phone_number %></td>
        <td><%= slot_booking.entry_time %></td>
      </tr>
    <% end %>
    </tbody>
  </table>


  <br>

<% else %>
  <p>No slot bookings found for the selected date range.</p>
<% end %>

<br>


<%= link_to 'Back', slot_bookings_path, class: "btn btn-outline-dark" %>
<br>
  <%= will_paginate @slot_bookings %>

</div>